{
  "_description": "ACOS v6.1 Hooks - Real implementations with confidence scoring, model routing, context tracking",
  "_version": "6.1.0",
  "_sources": [
    "diet103/claude-code-infrastructure-showcase - skill activation with confidence scoring",
    "ChrisWiles/claude-code-showcase - hook lifecycle patterns",
    "decider/claude-hooks - enforcement types",
    "claude-flow v3 - context budget tracking, model routing, anti-drift"
  ],
  "_updated": "2026-01-28",

  "hooks": {
    "SessionStart": [
      {
        "name": "acos-context-loader",
        "description": "Load ACOS v6.1 with model routing and enhanced skill rules",
        "type": "command",
        "command": "echo '✅ ACOS v6.1 loaded | Model Routing ON | Confidence Scoring ON | Context Tracking ON'",
        "once": true
      },
      {
        "name": "skill-rules-loader",
        "description": "Load enhanced skill-rules-v2.json with enforcement types",
        "type": "command",
        "command": "test -f .claude/skill-rules-v2.json && echo 'Enhanced skill rules (v2) loaded: confidence scoring, model routing, skip conditions' || echo 'Using standard skill rules'",
        "once": true
      },
      {
        "name": "model-routing-init",
        "description": "Initialize intelligent model routing (Haiku/Sonnet/Opus)",
        "type": "command",
        "command": "echo 'Model Routing: Haiku (simple) → Sonnet (balanced) → Opus (complex)'",
        "once": true
      }
    ],

    "UserPromptSubmit": [
      {
        "name": "skill-activation-prompt",
        "description": "Analyze prompt and suggest skills with confidence scoring",
        "type": "command",
        "command": "cd .claude/hooks && cat | npx tsx skill-activation-prompt.ts 2>/dev/null || echo 'SKILL SUGGESTIONS:\\n\\nConsider: dev'"
      }
    ],

    "PreToolUse": [
      {
        "name": "brand-voice-check",
        "description": "Check content for banned phrases before writing",
        "type": "command",
        "matcher": "Write|Edit",
        "command": "echo 'Brand voice check: Avoid soul-aligned, consciousness evolution, awakening, overwhelmed-to-empowered'"
      },
      {
        "name": "model-routing-check",
        "description": "Suggest optimal model tier before Task tool execution",
        "type": "command",
        "matcher": "Task",
        "command": "echo 'Model routing: Check task complexity for Haiku/Sonnet/Opus selection'"
      }
    ],

    "PostToolUse": [
      {
        "name": "context-budget-tracker",
        "description": "Track context usage with quality curve monitoring",
        "type": "command",
        "matcher": "Task|Read|Write|Edit|Bash",
        "command": "cd .claude/hooks && TOOL_NAME=$TOOL_NAME npx tsx context-budget-tracker.ts 2>/dev/null || echo 'Context checkpoint: Monitor drift.'"
      }
    ],

    "Notification": [
      {
        "name": "skill-suggestion",
        "description": "Suggest relevant skills based on recent activity",
        "type": "command",
        "command": "echo 'SKILL SUGGESTIONS:\\n\\nCheck skill-rules-v2.json for auto-activation matches'"
      }
    ]
  },

  "enforcement_rules": {
    "banned_phrases": [
      "soul-aligned",
      "consciousness evolution",
      "awakening",
      "overwhelmed to empowered",
      "game-changing",
      "revolutionary",
      "synergy",
      "leverage",
      "utilize"
    ],
    "required_patterns": {
      "blog_posts": ["TL;DR in first 100 words", "Question-based H2s", "FAQ section"],
      "social_posts": ["Hook in first line", "CTA at end"],
      "code_changes": ["No console.log in production", "Type annotations required"]
    }
  },

  "context_engineering": {
    "quality_curve": {
      "peak": "0-30%",
      "good": "30-50%",
      "degrading": "50-70%",
      "refresh_trigger": "70%"
    },
    "checkpoints": [
      "after_research",
      "after_first_draft",
      "every_500_words",
      "before_publish"
    ],
    "per_agent_budget": 0.3,
    "shared_memory_budget": 0.2,
    "total_session_limit": 0.7,
    "anti_drift_strategy": "hierarchical_with_raft_consensus"
  }
}
